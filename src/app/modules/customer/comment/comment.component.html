<h1 class="page-title">
  <span class="cm-mgr-5" i18n="@@listFeedbackCustomerPageTitle">Bình luận</span>
  <small i18n="@@customerModuleTitle">Quản lý bình luận</small>
</h1>

<form class="form-inline" (ngSubmit)="search(1)">
  <div class="form-group">
    <nh-select [data]="[{id: true, name: 'Hiển thị'}, {id: false, name: 'Không hiển thị'}]"
               [title]="'-- Tất cả --'" [(value)]="isShow" (itemSelected)="search(1)"></nh-select>
  </div>
  <div class="form-group">
    <button class="btn blue" type="submit">
      <i class="fa fa-search" *ngIf="!isSearching"></i>
      <i class="fa fa-pulse fa-spinner" *ngIf="isSearching"></i>
    </button>
  </div>
</form>

<div class="">
  <table class="table table-striped table-hover">
    <thead>
    <tr>
      <th class="middle center w50" i18n="@@no">No</th>
      <th class="middle">Người phản hồi</th>
      <th class="middle" i18n="@@email">Email</th>
      <th class="middle" i18n="@@phoneNumber">Nội dung</th>
      <th class="middle w150" i18n="@@dateSend">Ngày phản hồi</th>
      <th class="middle">Trạng thái</th>
      <th class="middle center w50" *ngIf="permission.view || permission.edit">Sửa, Xóa</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of listItems; let i = index">
      <td class=" middle center">{{(currentPage - 1) * pageSize + i + 1}}</td>
      <td class="middle">
        <a href="{{item.url}}">{{item.fullName}}</a>
      </td>
      <td class="middle">{{item.email}}</td>
      <td class="middle">{{item.content}}</td>
      <td class="middle">
        {{item.createTime | dateTimeFormat:"DD/MM/YYYY hh:mm"}}
      </td>
      <td class="middle center">
      <mat-checkbox color="primary" [checked]="item.isShow"
      (change)="updateIsShow(item)"></mat-checkbox>
      </td>
      <td class="middle center">
        <ghm-button
                *ngIf="permission.view"
                icon="fa fa-times" classes="btn default btn-sm"
                [swal]="confirmDelete"
                (confirm)="delete(item)"></ghm-button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<ghm-paging [totalRows]="totalRows" [currentPage]="currentPage" [pageShow]="6" (pageClick)="search($event)"
            [isDisabled]="isSearching" i18n="@@customer" i18n-pageName [pageName]="'Customer'"></ghm-paging>


<swal
        #confirmDelete
        title="Are you sure for delete this comment?"
        text="You can't recover this commnet after delete."
        type="question"
        i18n-confirmButtonText="@@accept"
        i18n-cancelButtonText="@@cancel"
        confirmButtonText="Accept"
        cancelButtonText="Cancel"
        [showCancelButton]="true"
        [focusCancel]="true">
</swal>