<nh-modal #productAttributeValueFormModal
          size="md"
          (shown)="onModalShown()"
          (hidden)="onModalHidden()">
    <nh-modal-header class="uppercase bold">
        <span i18n="@@updateProductAttributeTitle">
            {isUpdate, select, 0 {Thêm giá trị thuộc tính} 1 {Cập nhật giá trị thuộc tính}}
        </span>
    </nh-modal-header>
    <form (ngSubmit)="save()" [formGroup]="model" class="form" *ngIf="model">
        <nh-modal-content class="form-body">
            <ng-container formArrayName="translations">
                <ng-container *ngFor="let modelTranslation of translations.controls; index as i" [formGroupName]="i">
                    <div class="form-group"
                         [hidden]="modelTranslation.value.languageId !== currentLanguage"
                         [class.has-error]="translationFormErrors[modelTranslation.value.languageId]?.name">
                        <label class="control-label" ghmLabel="Tên giá trị thuộc tính" i18n-ghmLabel="@@attributeValueName"
                               [required]="true"></label>
                        <ghm-input formControlName="name"
                                   placeholder="Nhập tên giá trị thuộc tính"
                                   i18n-placeholder="@@enterAttributeName"
                                   elementId="name-{{currentLanguage}}"></ghm-input>
                        <span class="help-block" i18n="@@productAttributeNameValidateMessage">
                            {
                            translationFormErrors[modelTranslation.value.languageId]?.name,
                            select, required {Vui lòng nhập tên giá trị thuộc tính} maxlength {Tên giá trị thuộc tính không được vượt quá 256 ký tự}
                            }
                        </span>
                    </div>
                    <div class="form-group"
                         [hidden]="modelTranslation.value.languageId !== currentLanguage"
                         [class.has-error]="translationFormErrors[modelTranslation.value.languageId]?.description">
                        <label class="control-label" ghmLabel="Môt tả"
                               i18n-ghmLabel="@@description"></label>
                        <textarea name="" id="" class="form-control" rows="3"
                                  formControlName="description"
                                  placeholder="Nhập môt tả"
                                  i18n-placeholder="@@enterDescription"></textarea>
                        <span class="help-block" i18n="@@productAttributeDescriptionValidateMessage">
                            {
                            translationFormErrors[modelTranslation.value.languageId]?.name,
                            select, maxlength {Mô tả giá trị thuộc tính không được vượt quá 500 ký tự}
                            }
                        </span>
                    </div>
                </ng-container>
            </ng-container>
            <div class="form-group">
                <dx-check-box formControlName="isActive" text="Kích hoạt"></dx-check-box>
                <!--<mat-checkbox color="primary" formControlName="isActive" i18n="@@active">Active</mat-checkbox>-->
            </div>
        </nh-modal-content>
        <nh-modal-footer>
            <mat-checkbox
                class="cm-mgr-5"
                color="primary"
                name="isCreateAnother"
                i18n="@@isCreateAnother"
                *ngIf="!isUpdate"
                [(checked)]="isCreateAnother"
                (change)="isCreateAnother = !isCreateAnother"> Create another
            </mat-checkbox>
            <button class="btn blue cm-mgr-5" i18n="@@save">
                Save
            </button>
            <button type="button" class="btn btn-light" i18n="@@cancel" nh-dismiss>
                Cancel
            </button>
        </nh-modal-footer>
    </form>
</nh-modal>
